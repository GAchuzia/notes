# SYSC4805 - Computer Systems Design Lab

## Table Of Contents

[1. Lecture 1 - Course Introduction](#1-lecture-1---course-introduction)

> [‚Üê Back to Main README](../../README.md)

## 1. Lecture 1 - Course Introduction

### Course Philosophy

- SYSC 4805 - Computer System's Design Lab is a project-based course aimed at making small scale embedded systems through the collaboration of an engineering team.

- Spit into 3 parts:
  - Managing Engineering Projects
  - Technical Skills
  - Communication skills

## Learning Outcomes

1. Define concepts of product design, development methodology, and team-based project management.
2. Design an embedded microcontroller-based system for an engineering problem using hardware and software components.
3. Identify and adapt to realistic constraints.
4. Analyze potential solutions for an engineering project.
5. Use knowledge to analyze and solve an engineering problem.
6. Evaluate and predict performance using the Scientific method.
7. Define, plan, and manage a moderately complex project.
8. Develop teamwork and entrepreneurial skills.
9. Develop communication skills through technical presentations and reports.

## Project Generalities

- The goal of the project is to design and build a robotic platform containing:
  - Moving components
  - Sensors
  - Software that performs data fusion, decision making, processes sensor data, and uses the robot to solve a task.
- Project task is to use the robot to clear the snow off an enclosed are by a closed black path.
  - Robot most deal with fixed an moving obstacles without hitting them.

## Embedded System

- Class of computers that span a wide range of applications and performance.
- Embedded Systems split by  Application:
  - Automotive
  - Telecommunication
  - Healthcare
  - Industrial
  - Consumer Electronics
  - Military and Aerospace
  - Manufacturing

## Microcontroller vs Microprocessor

- Microcontroller's are all-in-one chips (containing CPU, memory, I/O peripherals, etc) designed for specific tasks (e.g Arduino).
- Microprocessors are powerful CPU's that need external memory and I/O to function. They are built for high-performance, general-purpose computing (e.g. Raspberry Pi).

## The Arduino Due

- A microcontroller with:
  - 32-bit ARm core @ 84 MHz clock
  - 512 Kb flash and 100 KB SRAM
  - 54 digital I/O pins
  - 12 PWM outputs (max 3.3V)
  - 12 Analog inputs (12-bit ADC, max 3.3V)
  - 2 Analog outputs (12-bit DAC)
  - USB, SPI, I2C, CAN, and UART interfaces
  - 9 32-bit timers
  - 3 low-power modes
  - ATmega16U2 microcontroller chip that acts as a bridge between the computer's USB and the main serial port
- Data sheet is SAM3X8E

## The Arduino Nano Every

- Based on the ATMega4809
- 8-bit AVR processor @ 20 MHz clock
- 48 KB Flash, 6 KB SRAM, 256B EEPROM
- 20 Digital input/output pins (Maximum 5V)
- 5 PWM outputs
- 8 Analog inputs (10-bit ADC) (Maximum 5V)
- No Analog outputs (only through PWM)
- Interfaces: USB, SPI, I2C, and UART
- 1 Timer (16-bit timer)
- Some low-power modes
- Almost all the pins are configurable by software.
- Also holds ATSAMD11D14A ARM Cortex-M0+ processor acts as a bridge
between USB and the main AVR processor

## Why Arduino?

- Stable and sturdy
- Faster development cycle
- Has built-in functions for directly working with microcontroller registers

## Sensors We Use

| Sensor | Description | Interface|
|--------|-------------|----------|
| Rover Line Follower | Analog on/off line detector/follower | Analog Output|
| Obstacle Detection IR Sensor | Digital on/off Obstacle detection | Digital Output|
| Laser Range Finder | Time-of-flight (TOF) range finder 4 - 400 cm| I2C|
| Ultrasonic | Distance measurement | Timer |
| Analog Distance Sensor | Distance measurement 2 - 15 cm | Analog Output|
| IMU | Gyro, Accelerometer and Compass | I2C |
| Wheel Encoder | Rotation degree of the wheels | Counters|

## Some Bad Stories

Examples where bad software led to catastrophes:

- 2022 Rogers Communication Outage: 25% of Canada lost internet connectivity
- 1997 Mars Pathfinder incident: Total system resets after landing, caused by faulty watchdog timer
- Therac-25 (1987): Bug in accepting commands led to machine being able to work in high power mode without shield (error displayed, unclear code number)
- 2009 Toyota Unintended Acceleration: Wide Open Throttle with no feet on pedal
- Boeing 737 MAX:  Lion Air Flight 610, Ethiopian Airlines Flight 302, angle-of-attack sensor falsely reports aircraft going to high, pushing nose down and causing aircraft to dive.
